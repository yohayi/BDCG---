<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§’è‰²ç«‹ç»˜èµ„æº - BDCGæ¨¡æ‹Ÿå™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --primary-color: #3a0ca3;
            --secondary-color: #4361ee;
            --accent-color: #f72585;
            --art-color: #ff6b6b;
            --psd-color: #38b000;
            --layer-color: #7209b7;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --code-bg: #282c34;
            --card-bg: #ffffff;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* å¤´éƒ¨å¯¼èˆª */
        .subpage-header {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .back-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }

        .subpage-title {
            text-align: center;
            flex-grow: 1;
        }

        .subpage-title h1 {
            font-size: 2rem;
            margin-bottom: 0.3rem;
        }

        .subpage-title p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .header-actions a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .header-actions a:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        /* ä¸»è¦å†…å®¹ */
        .main-content {
            padding: 3rem 0;
        }

        .page-section {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2.5rem;
        }

        .section-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-color);
            display: inline-block;
        }

        .section-subtitle {
            color: var(--secondary-color);
            margin: 1.5rem 0 1rem;
            font-size: 1.3rem;
        }

        /* é¡¹ç›®æ¦‚è§ˆ */
        .project-overview {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 992px) {
            .project-overview {
                grid-template-columns: 1fr;
            }
        }

        .project-description p {
            margin-bottom: 1.2rem;
            color: var(--dark-color);
        }

        .project-meta {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .meta-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid #dee2e6;
        }

        .meta-item:last-child {
            border-bottom: none;
        }

        .meta-label {
            font-weight: 600;
            color: var(--primary-color);
        }

        .meta-value {
            color: var(--gray-color);
        }

        /* è§’è‰²å±•ç¤ºç½‘æ ¼ */
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .character-card {
            background-color: #f8f9fa;
            border-radius: 12px;
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .character-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .character-image {
            height: 250px;
            background-color: var(--dark-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .character-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--art-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 2;
        }

        .character-info {
            padding: 1.5rem;
        }

        .character-info h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.4rem;
        }

        .character-info p {
            color: var(--gray-color);
            font-size: 0.95rem;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .character-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.2rem;
        }

        .character-tag {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--secondary-color);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .character-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray-color);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 1rem;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .stat-label {
            font-size: 0.8rem;
            margin-top: 0.2rem;
        }

        /* å›¾å±‚å±•ç¤º */
        .layer-demo {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            min-height: 400px;
            display: flex;
            flex-direction: column;
        }

        .layer-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .layer-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            cursor: pointer;
            padding: 0.5rem 1rem;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            transition: var(--transition);
        }

        .layer-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .layer-toggle.active {
            background-color: var(--layer-color);
        }

        .layer-canvas {
            flex-grow: 1;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .layer-element {
            position: absolute;
            transition: var(--transition);
            text-align: center;
            color: white;
        }

        /* æ–‡ä»¶æ ¼å¼å±•ç¤º */
        .format-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .format-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            transition: var(--transition);
        }

        .format-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .format-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }

        .format-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.8rem;
        }

        .format-card p {
            color: var(--gray-color);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .format-features {
            list-style-type: none;
            text-align: left;
            margin-top: 1rem;
        }

        .format-features li {
            padding: 0.3rem 0;
            font-size: 0.85rem;
            color: var(--gray-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .format-features li i {
            color: var(--accent-color);
            font-size: 0.8rem;
        }

        /* ä»£ç æ¼”ç¤º */
        .code-demo {
            background-color: var(--code-bg);
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 0.8rem 1.2rem;
            color: #abb2bf;
        }

        .code-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-button {
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: #abb2bf;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .copy-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        pre {
            margin: 0;
            padding: 1.5rem;
            overflow-x: auto;
            line-height: 1.5;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
        }

        .hljs {
            background: transparent;
        }

        /* æ–‡ä»¶ç»“æ„ */
        .file-structure {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .file-tree {
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
        }

        .file-tree ul {
            list-style-type: none;
            padding-left: 1.5rem;
        }

        .file-tree li {
            position: relative;
            padding: 0.2rem 0;
        }

        .file-tree li:before {
            content: "ğŸ“";
            position: absolute;
            left: -1.2rem;
        }

        .file-tree .file:before {
            content: "ğŸ“„";
        }

        .file-tree .psd-file:before {
            content: "ğŸ¨";
        }

        .file-tree .png-file:before {
            content: "ğŸ–¼ï¸";
        }

        .file-tree .json-file:before {
            content: "ğŸ“‹";
        }

        /* ç›¸å…³èµ„æº */
        .resource-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .resource-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--secondary-color);
            text-decoration: none;
            padding: 0.7rem 1.2rem;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: 6px;
            transition: var(--transition);
        }

        .resource-link:hover {
            background-color: rgba(67, 97, 238, 0.2);
            transform: translateY(-3px);
        }

        /* é¡µé¢å¯¼èˆª */
        .page-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #dee2e6;
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .nav-button:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .header-actions {
                justify-content: center;
            }
            
            .subpage-title h1 {
                font-size: 1.7rem;
            }
            
            .character-grid, .format-grid {
                grid-template-columns: 1fr;
            }
            
            .layer-controls {
                flex-direction: column;
            }
            
            .page-navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-button {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="subpage-header">
        <div class="container">
            <div class="header-content">
                <a href="../index.html" class="back-button">
                    <i class="fas fa-arrow-left"></i> è¿”å›ä¸»é¡µ
                </a>
                
                <div class="subpage-title">
                    <h1>è§’è‰²ç«‹ç»˜èµ„æº</h1>
                    <p>é«˜è´¨é‡è§’è‰²ç«‹ç»˜ä¸åˆ†å±‚èµ„æºåº“</p>
                </div>
                
                <div class="header-actions">
                    <a href="#character-gallery"><i class="fas fa-images"></i> è§’è‰²åº“</a>
                    <a href="#layer-demo"><i class="fas fa-layer-group"></i> å›¾å±‚æ¼”ç¤º</a>
                    <a href="#file-formats"><i class="fas fa-file"></i> æ–‡ä»¶æ ¼å¼</a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <!-- é¡¹ç›®æ¦‚è§ˆ -->
        <section class="page-section">
            <h2 class="section-title">é¡¹ç›®æ¦‚è§ˆ</h2>
            
            <div class="project-overview">
                <div class="project-description">
                    <p>æœ¬èµ„æºåº“åŒ…å«å¤§é‡é«˜è´¨é‡çš„è§’è‰²ç«‹ç»˜èµ„æºï¼Œä¸“ä¸ºæ¸¸æˆå¼€å‘ã€åŠ¨ç”»åˆ¶ä½œå’Œè§†è§‰å°è¯´é¡¹ç›®è®¾è®¡ã€‚æ‰€æœ‰èµ„æºéƒ½é‡‡ç”¨åˆ†å±‚PSDæ ¼å¼ï¼Œä¾¿äºç¼–è¾‘ã€åŠ¨ç”»åˆ¶ä½œå’Œä¸ªæ€§åŒ–å®šåˆ¶ã€‚</p>
                    
                    <p>èµ„æºåº“æ¶µç›–å¤šç§è‰ºæœ¯é£æ ¼å’Œè§’è‰²ç±»å‹ï¼ŒåŒ…æ‹¬ç°ä»£ã€å¹»æƒ³ã€ç§‘å¹»å’Œæ—¥å¼åŠ¨æ¼«é£æ ¼ã€‚æ¯ä¸ªè§’è‰²éƒ½åŒ…å«å¤šä¸ªè¡¨æƒ…ã€å§¿åŠ¿å’Œæœè£…å˜ä½“ï¼Œæ”¯æŒåŠ¨æ€ç»„åˆå’Œå®æ—¶é¢„è§ˆã€‚</p>
                    
                    <p>æ‰€æœ‰èµ„æºéƒ½ç»è¿‡ä¸“ä¸šä¼˜åŒ–ï¼Œç¡®ä¿åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„æ˜¾ç¤ºæ•ˆæœã€‚æˆ‘ä»¬æä¾›å®Œæ•´çš„æ–‡ä»¶ç»“æ„ã€å›¾å±‚å‘½åè§„èŒƒå’Œç¼–è¾‘æŒ‡å—ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆä½¿ç”¨è¿™äº›èµ„æºã€‚</p>
                </div>
                
                <div class="project-meta">
                    <div class="meta-item">
                        <span class="meta-label">èµ„æºç±»å‹:</span>
                        <span class="meta-value">è§’è‰²ç«‹ç»˜</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æ–‡ä»¶æ•°é‡:</span>
                        <span class="meta-value">24ä¸ªè§’è‰²</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æœ€åæ›´æ–°:</span>
                        <span class="meta-value">2023-10-05</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">ä¸»è¦æ ¼å¼:</span>
                        <span class="meta-value">PSD + PNG</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">åˆ†å±‚ç»“æ„:</span>
                        <span class="meta-value">æ ‡å‡†åŒ–çš„</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">åˆ†è¾¨ç‡:</span>
                        <span class="meta-value">æœ€é«˜4K</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- è§’è‰²å±•ç¤º -->
        <section class="page-section" id="character-gallery">
            <h2 class="section-title">è§’è‰²èµ„æºåº“</h2>
            
            <div class="character-grid">
                <!-- è§’è‰²1 -->
                <div class="character-card">
                    <div class="character-image" style="background: linear-gradient(135deg, #4361ee, #3a0ca3);">
                        <div class="character-badge">ä¸»è§’</div>
                        <i class="fas fa-female"></i>
                    </div>
                    <div class="character-info">
                        <h4>è‰¾è‰å¨… - é­”æ³•å­¦é™¢å­¦ç”Ÿ</h4>
                        <p>é­”æ³•å­¦é™¢çš„é«˜æç”Ÿï¼Œæ“…é•¿å…ƒç´ é­”æ³•ã€‚åŒ…å«8ç§è¡¨æƒ…ã€3å¥—æœè£…å’Œå¤šç§é­”æ³•ç‰¹æ•ˆå›¾å±‚ã€‚</p>
                        <div class="character-tags">
                            <span class="character-tag">é­”æ³•å¸ˆ</span>
                            <span class="character-tag">å­¦ç”Ÿ</span>
                            <span class="character-tag">é•¿å‘</span>
                        </div>
                        <div class="character-stats">
                            <div class="stat-item">
                                <div class="stat-value">8</div>
                                <div class="stat-label">è¡¨æƒ…</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">3</div>
                                <div class="stat-label">æœè£…</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">42</div>
                                <div class="stat-label">å›¾å±‚</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- è§’è‰²2 -->
                <div class="character-card">
                    <div class="character-image" style="background: linear-gradient(135deg, #f72585, #7209b7);">
                        <div class="character-badge">åæ´¾</div>
                        <i class="fas fa-male"></i>
                    </div>
                    <div class="character-info">
                        <h4>å‡¯æ© - é»‘æš—éª‘å£«</h4>
                        <p>è¢«é»‘æš—åŠ›é‡è…èš€çš„éª‘å£«ï¼Œè¿½æ±‚ç»å¯¹çš„åŠ›é‡ã€‚åŒ…å«5ç§è¡¨æƒ…ã€2å¥—ç›”ç”²å’Œé»‘æš—ç‰¹æ•ˆå›¾å±‚ã€‚</p>
                        <div class="character-tags">
                            <span class="character-tag">éª‘å£«</span>
                            <span class="character-tag">é»‘æš—</span>
                            <span class="character-tag">ç›”ç”²</span>
                        </div>
                        <div class="character-stats">
                            <div class="stat-item">
                                <div class="stat-value">5</div>
                                <div class="stat-label">è¡¨æƒ…</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">2</div>
                                <div class="stat-label">ç›”ç”²</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">38</div>
                                <div class="stat-label">å›¾å±‚</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- è§’è‰²3 -->
                <div class="character-card">
                    <div class="character-image" style="background: linear-gradient(135deg, #4cc9f0, #4361ee);">
                        <div class="character-badge">è¾…åŠ©</div>
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="character-info">
                        <h4>é›¶å¼ - è¾…åŠ©æœºå™¨äºº</h4>
                        <p>é«˜ç§‘æŠ€è¾…åŠ©æœºå™¨äººï¼Œå…·å¤‡å¤šç§å·¥å…·å’Œæ‰«æåŠŸèƒ½ã€‚åŒ…å«åŠ¨æ€ç¯å…‰ã€æœºæ¢°éƒ¨ä»¶å’ŒHUDæ˜¾ç¤ºå›¾å±‚ã€‚</p>
                        <div class="character-tags">
                            <span class="character-tag">æœºå™¨äºº</span>
                            <span class="character-tag">ç§‘å¹»</span>
                            <span class="character-tag">å‘å…‰</span>
                        </div>
                        <div class="character-stats">
                            <div class="stat-item">
                                <div class="stat-value">4</div>
                                <div class="stat-label">æ¨¡å¼</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">6</div>
                                <div class="stat-label">å·¥å…·</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">51</div>
                                <div class="stat-label">å›¾å±‚</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å›¾å±‚æ¼”ç¤º -->
        <section class="page-section" id="layer-demo">
            <h2 class="section-title">åˆ†å±‚ç»“æ„æ¼”ç¤º</h2>
            
            <div class="layer-demo">
                <div class="layer-controls">
                    <div class="layer-toggle active" data-layer="base">
                        <i class="fas fa-check-square"></i>
                        <span>åŸºç¡€çº¿ç¨¿</span>
                    </div>
                    <div class="layer-toggle active" data-layer="skin">
                        <i class="fas fa-check-square"></i>
                        <span>çš®è‚¤ä¸Šè‰²</span>
                    </div>
                    <div class="layer-toggle active" data-layer="hair">
                        <i class="fas fa-check-square"></i>
                        <span>å¤´å‘</span>
                    </div>
                    <div class="layer-toggle active" data-layer="eyes">
                        <i class="fas fa-check-square"></i>
                        <span>çœ¼ç›</span>
                    </div>
                    <div class="layer-toggle active" data-layer="clothes">
                        <i class="fas fa-check-square"></i>
                        <span>æœè£…</span>
                    </div>
                    <div class="layer-toggle" data-layer="accessories">
                        <i class="far fa-square"></i>
                        <span>é¥°å“</span>
                    </div>
                    <div class="layer-toggle" data-layer="effects">
                        <i class="far fa-square"></i>
                        <span>ç‰¹æ•ˆ</span>
                    </div>
                    <div class="layer-toggle active" data-layer="shading">
                        <i class="fas fa-check-square"></i>
                        <span>é˜´å½±</span>
                    </div>
                </div>
                
                <div class="layer-canvas" id="layerCanvas">
                    <!-- å›¾å±‚å…ƒç´ å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    <div style="color: rgba(255,255,255,0.5); text-align: center; padding: 2rem;">
                        <i class="fas fa-layer-group" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                        <h3>åˆ†å±‚ç»“æ„æ¼”ç¤º</h3>
                        <p>ä½¿ç”¨ä¸Šæ–¹çš„å¼€å…³æ§åˆ¶ä¸åŒå›¾å±‚çš„æ˜¾ç¤º/éšè—</p>
                    </div>
                </div>
            </div>
            
            <p>PSDåˆ†å±‚ç»“æ„å…è®¸å¼€å‘è€…ç‹¬ç«‹æ§åˆ¶è§’è‰²çš„å„ä¸ªéƒ¨åˆ†ï¼Œä¾¿äºåŠ¨ç”»åˆ¶ä½œã€è¡¨æƒ…åˆ‡æ¢å’Œæœè£…æ›´æ¢ã€‚æ‰€æœ‰å›¾å±‚éƒ½é‡‡ç”¨æ ‡å‡†åŒ–çš„å‘½åè§„èŒƒï¼Œç¡®ä¿åœ¨ä¸åŒé¡¹ç›®ä¸­çš„å…¼å®¹æ€§ã€‚</p>
        </section>

        <!-- æ–‡ä»¶æ ¼å¼ -->
        <section class="page-section" id="file-formats">
            <h2 class="section-title">æ”¯æŒçš„æ–‡ä»¶æ ¼å¼</h2>
            
            <div class="format-grid">
                <div class="format-card">
                    <div class="format-icon">
                        <i class="fas fa-file-image"></i>
                    </div>
                    <h4>PSDæ ¼å¼</h4>
                    <p>Adobe PhotoshopåŸç”Ÿæ ¼å¼ï¼ŒåŒ…å«å®Œæ•´çš„åˆ†å±‚ç»“æ„ã€‚</p>
                    <ul class="format-features">
                        <li><i class="fas fa-check"></i> å®Œæ•´å›¾å±‚ç»“æ„</li>
                        <li><i class="fas fa-check"></i> å¯ç¼–è¾‘æ–‡æœ¬</li>
                        <li><i class="fas fa-check"></i> è°ƒæ•´å›¾å±‚</li>
                        <li><i class="fas fa-check"></i> æ™ºèƒ½å¯¹è±¡</li>
                    </ul>
                </div>
                
                <div class="format-card">
                    <div class="format-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h4>PNGåºåˆ—</h4>
                    <p>é€æ˜èƒŒæ™¯çš„PNGå›¾åƒï¼Œæ”¯æŒå¤šåˆ†è¾¨ç‡è¾“å‡ºã€‚</p>
                    <ul class="format-features">
                        <li><i class="fas fa-check"></i> é€æ˜èƒŒæ™¯</li>
                        <li><i class="fas fa-check"></i> æ— æŸå‹ç¼©</li>
                        <li><i class="fas fa-check"></i> å¤šåˆ†è¾¨ç‡</li>
                        <li><i class="fas fa-check"></i> é€šç”¨å…¼å®¹</li>
                    </ul>
                </div>
                
                <div class="format-card">
                    <div class="format-icon">
                        <i class="fas fa-file-code"></i>
                    </div>
                    <h4>JSONé…ç½®</h4>
                    <p>å›¾å±‚ä¿¡æ¯å’ŒåŠ¨ç”»å‚æ•°çš„é…ç½®æ–‡ä»¶ã€‚</p>
                    <ul class="format-features">
                        <li><i class="fas fa-check"></i> å›¾å±‚æ˜ å°„</li>
                        <li><i class="fas fa-check"></i> åŠ¨ç”»å‚æ•°</li>
                        <li><i class="fas fa-check"></i> é¢œè‰²é…ç½®</li>
                        <li><i class="fas fa-check"></i> å…ƒæ•°æ®</li>
                    </ul>
                </div>
                
                <div class="format-card">
                    <div class="format-icon">
                        <i class="fas fa-file-archive"></i>
                    </div>
                    <h4>ç²¾çµå›¾é›†</h4>
                    <p>æ¸¸æˆå¼•æ“ä¼˜åŒ–çš„ç²¾çµå›¾é›†å’Œé…ç½®æ–‡ä»¶ã€‚</p>
                    <ul class="format-features">
                        <li><i class="fas fa-check"></i> çº¹ç†æ‰“åŒ…</li>
                        <li><i class="fas fa-check"></i> UVåæ ‡</li>
                        <li><i class="fas fa-check"></i> åŠ¨ç”»å‰ªè¾‘</li>
                        <li><i class="fas fa-check"></i> æ€§èƒ½ä¼˜åŒ–</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ä»£ç æ¼”ç¤º -->
        <section class="page-section" id="code-demo">
            <h2 class="section-title">é…ç½®æ–‡ä»¶ç¤ºä¾‹</h2>
            
            <h3 class="section-subtitle">è§’è‰²é…ç½®æ–‡ä»¶ (character_config.json)</h3>
            <div class="code-demo">
                <div class="code-header">
                    <div class="code-title">
                        <i class="fas fa-file-code"></i>
                        <span>art-resources/characters/aelia/character_config.json</span>
                    </div>
                    <button class="copy-button" onclick="copyCode('code1')">
                        <i class="far fa-copy"></i> å¤åˆ¶ä»£ç 
                    </button>
                </div>
                <pre><code class="json" id="code1">{
  "character": {
    "name": "è‰¾è‰å¨…",
    "id": "aelia",
    "version": "1.2.0",
    "author": "BDCGè‰ºæœ¯å›¢é˜Ÿ",
    "description": "é­”æ³•å­¦é™¢å­¦ç”Ÿï¼Œæ“…é•¿å…ƒç´ é­”æ³•",
    "created": "2023-08-10",
    "updated": "2023-10-05"
  },
  
  "file_structure": {
    "psd": "aelia.psd",
    "textures": {
      "base": "textures/base.png",
      "expressions": "textures/expressions/",
      "outfits": "textures/outfits/",
      "effects": "textures/effects/"
    },
    "config": "config/"
  },
  
  "layers": {
    "groups": {
      "base": ["çº¿ç¨¿", "åº•è‰²"],
      "skin": ["çš®è‚¤_åŸºç¡€", "çš®è‚¤_é˜´å½±", "çš®è‚¤_é«˜å…‰", "çº¢æ™•"],
      "hair": ["å¤´å‘_åº•è‰²", "å¤´å‘_é˜´å½±", "å¤´å‘_é«˜å…‰", "å‘é¥°"],
      "eyes": ["çœ¼ç›_ç™½åº•", "çœ¼ç›_è™¹è†œ", "çœ¼ç›_ç³å­”", "çœ¼ç›_é«˜å…‰"],
      "clothes": ["æœè£…_åº•è‰²", "æœè£…_é˜´å½±", "æœè£…_é«˜å…‰", "æœè£…_å›¾æ¡ˆ"],
      "accessories": ["é¥°å“_é¡¹é“¾", "é¥°å“_è€³ç¯", "é¥°å“_æ‰‹é•¯"],
      "effects": ["é­”æ³•_å…‰ç¯", "é­”æ³•_ç²’å­", "å…‰æ•ˆ"]
    },
    
    "visibility": {
      "default": ["base", "skin", "hair", "eyes", "clothes", "shading"],
      "no_accessories": ["base", "skin", "hair", "eyes", "clothes", "shading"],
      "magic_effect": ["base", "skin", "hair", "eyes", "clothes", "shading", "effects"]
    }
  },
  
  "expressions": {
    "neutral": {
      "eyes": "eyes_neutral",
      "mouth": "mouth_neutral",
      "eyebrows": "eyebrows_neutral"
    },
    "happy": {
      "eyes": "eyes_happy",
      "mouth": "mouth_smile",
      "eyebrows": "eyebrows_relaxed",
      "cheeks": "blush_light"
    },
    "sad": {
      "eyes": "eyes_sad",
      "mouth": "mouth_frown",
      "eyebrows": "eyebrows_sad",
      "effects": "tear"
    },
    "angry": {
      "eyes": "eyes_angry",
      "mouth": "mouth_angry",
      "eyebrows": "eyebrows_angry",
      "effects": "vein"
    },
    "surprised": {
      "eyes": "eyes_surprised",
      "mouth": "mouth_surprised",
      "eyebrows": "eyebrows_surprised"
    }
  },
  
  "outfits": {
    "default": {
      "name": "å­¦é™¢åˆ¶æœ",
      "layers": ["clothes_school", "shoes_school", "ribbon_red"]
    },
    "casual": {
      "name": "æ—¥å¸¸æœè£…",
      "layers": ["clothes_casual", "shoes_sneakers", "bag"]
    },
    "magic": {
      "name": "é­”æ³•å¸ˆé•¿è¢",
      "layers": ["robe_magic", "hat_wizard", "staff"],
      "effects": ["magic_glow"]
    }
  },
  
  "animations": {
    "blink": {
      "frames": 3,
      "duration": 0.2,
      "layers": ["eyes_closed", "eyes_half", "eyes_open"]
    },
    "breathing": {
      "type": "loop",
      "duration": 3.0,
      "amplitude": 2,
      "layers": ["body_vertical"]
    },
    "talk": {
      "type": "random",
      "mouths": ["mouth_a", "mouth_b", "mouth_c", "mouth_d"]
    }
  },
  
  "color_palette": {
    "skin": {
      "base": "#ffd6c2",
      "shadow": "#e6b8a5",
      "highlight": "#ffebdb"
    },
    "hair": {
      "base": "#8b4513",
      "shadow": "#5d2e0f",
      "highlight": "#a85e1a"
    },
    "eyes": {
      "iris": "#4a6fa5",
      "pupil": "#1a1a2e"
    }
  },
  
  "export_settings": {
    "resolutions": [512, 1024, 2048],
    "formats": ["png", "jpg"],
    "compression": {
      "png": 9,
      "jpg": 85
    },
    "trim": true,
    "bleed": 2
  }
}</code></pre>
            </div>
            
            <h3 class="section-subtitle">å›¾å±‚ç®¡ç†è„šæœ¬ (LayerManager.js)</h3>
            <div class="code-demo">
                <div class="code-header">
                    <div class="code-title">
                        <i class="fas fa-file-code"></i>
                        <span>art-resources/utils/LayerManager.js</span>
                    </div>
                    <button class="copy-button" onclick="copyCode('code2')">
                        <i class="far fa-copy"></i> å¤åˆ¶ä»£ç 
                    </button>
                </div>
                <pre><code class="javascript" id="code2">/**
 * è§’è‰²ç«‹ç»˜èµ„æº - å›¾å±‚ç®¡ç†å™¨
 * è´Ÿè´£ç®¡ç†PSDåˆ†å±‚ç»“æ„ã€å›¾å±‚å¯è§æ€§å’Œç»„åˆæ¸²æŸ“
 */
class LayerManager {
    constructor(config) {
        this.config = config;
        this.layers = {};
        this.visibility = {};
        this.currentState = {};
        
        // åŠ è½½å›¾å±‚é…ç½®
        this.loadConfig();
        
        // åˆå§‹åŒ–çŠ¶æ€
        this.initializeState();
    }
    
    /**
     * åŠ è½½é…ç½®æ–‡ä»¶
     */
    loadConfig() {
        // è§£æå›¾å±‚åˆ†ç»„
        for (const [groupName, layerNames] of Object.entries(this.config.layers.groups)) {
            this.layers[groupName] = {
                names: layerNames,
                visible: true,
                opacity: 1.0
            };
        }
        
        // åˆå§‹åŒ–å¯è§æ€§é…ç½®
        for (const [stateName, groups] of Object.entries(this.config.layers.visibility)) {
            this.visibility[stateName] = new Set(groups);
        }
        
        console.log(`Layer manager initialized with ${Object.keys(this.layers).length} layer groups`);
    }
    
    /**
     * åˆå§‹åŒ–çŠ¶æ€
     */
    initializeState() {
        // è®¾ç½®é»˜è®¤çŠ¶æ€
        this.setState('default');
        
        // åˆå§‹åŒ–è¡¨æƒ…
        this.currentState.expression = 'neutral';
        
        // åˆå§‹åŒ–æœè£…
        this.currentState.outfit = 'default';
        
        // åˆå§‹åŒ–å…¶ä»–çŠ¶æ€
        this.currentState.blink = false;
        this.currentState.talking = false;
        this.currentState.effects = [];
    }
    
    /**
     * è®¾ç½®å›¾å±‚çŠ¶æ€
     */
    setState(stateName) {
        if (!this.visibility[stateName]) {
            console.warn(`State ${stateName} not found`);
            return false;
        }
        
        // éšè—æ‰€æœ‰å›¾å±‚
        for (const groupName in this.layers) {
            this.layers[groupName].visible = false;
        }
        
        // æ˜¾ç¤ºæŒ‡å®šçŠ¶æ€çš„å›¾å±‚
        for (const groupName of this.visibility[stateName]) {
            if (this.layers[groupName]) {
                this.layers[groupName].visible = true;
            }
        }
        
        this.currentState.visibility = stateName;
        console.log(`Layer state set to: ${stateName}`);
        
        return true;
    }
    
    /**
     * è®¾ç½®è¡¨æƒ…
     */
    setExpression(expressionName) {
        if (!this.config.expressions[expressionName]) {
            console.warn(`Expression ${expressionName} not found`);
            return false;
        }
        
        const expression = this.config.expressions[expressionName];
        this.currentState.expression = expressionName;
        
        // åº”ç”¨è¡¨æƒ…å›¾å±‚
        this.applyExpressionLayers(expression);
        
        console.log(`Expression set to: ${expressionName}`);
        return true;
    }
    
    /**
     * åº”ç”¨è¡¨æƒ…å›¾å±‚
     */
    applyExpressionLayers(expression) {
        // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€è¦æ›´æ–°å…·ä½“çš„å›¾å±‚
        // ä¾‹å¦‚ï¼šåˆ‡æ¢çœ¼ç›ã€å˜´å·´ã€çœ‰æ¯›çš„çº¹ç†
        
        // è®°å½•è¡¨æƒ…é…ç½®
        this.currentState.expressionConfig = expression;
        
        // è§¦å‘å›¾å±‚æ›´æ–°äº‹ä»¶
        this.triggerUpdate();
    }
    
    /**
     * è®¾ç½®æœè£…
     */
    setOutfit(outfitName) {
        if (!this.config.outfits[outfitName]) {
            console.warn(`Outfit ${outfitName} not found`);
            return false;
        }
        
        const outfit = this.config.outfits[outfitName];
        this.currentState.outfit = outfitName;
        
        // åº”ç”¨æœè£…å›¾å±‚
        this.applyOutfitLayers(outfit);
        
        console.log(`Outfit set to: ${outfitName}`);
        return true;
    }
    
    /**
     * åº”ç”¨æœè£…å›¾å±‚
     */
    applyOutfitLayers(outfit) {
        // éšè—æ‰€æœ‰æœè£…ç›¸å…³å›¾å±‚
        this.setLayerGroupVisible('clothes', false);
        this.setLayerGroupVisible('accessories', false);
        
        // æ˜¾ç¤ºæŒ‡å®šæœè£…çš„å›¾å±‚
        for (const layerName of outfit.layers) {
            this.setLayerVisible(layerName, true);
        }
        
        // åº”ç”¨ç‰¹æ•ˆï¼ˆå¦‚æœæœ‰ï¼‰
        if (outfit.effects) {
            for (const effect of outfit.effects) {
                this.addEffect(effect);
            }
        }
        
        // è§¦å‘å›¾å±‚æ›´æ–°äº‹ä»¶
        this.triggerUpdate();
    }
    
    /**
     * è®¾ç½®å›¾å±‚ç»„å¯è§æ€§
     */
    setLayerGroupVisible(groupName, visible) {
        if (this.layers[groupName]) {
            this.layers[groupName].visible = visible;
            this.triggerUpdate();
            return true;
        }
        return false;
    }
    
    /**
     * è®¾ç½®å•ä¸ªå›¾å±‚å¯è§æ€§
     */
    setLayerVisible(layerName, visible) {
        // åœ¨æ‰€æœ‰å›¾å±‚ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå›¾å±‚
        for (const [groupName, group] of Object.entries(this.layers)) {
            if (group.names.includes(layerName)) {
                // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶
                console.log(`Layer ${layerName} visibility set to: ${visible}`);
                this.triggerUpdate();
                return true;
            }
        }
        
        console.warn(`Layer ${layerName} not found`);
        return false;
    }
    
    /**
     * è®¾ç½®å›¾å±‚ä¸é€æ˜åº¦
     */
    setLayerOpacity(layerName, opacity) {
        // åœ¨æ‰€æœ‰å›¾å±‚ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå›¾å±‚
        for (const [groupName, group] of Object.entries(this.layers)) {
            if (group.names.includes(layerName)) {
                // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶
                console.log(`Layer ${layerName} opacity set to: ${opacity}`);
                this.triggerUpdate();
                return true;
            }
        }
        
        console.warn(`Layer ${layerName} not found`);
        return false;
    }
    
    /**
     * æ·»åŠ ç‰¹æ•ˆ
     */
    addEffect(effectName) {
        if (!this.currentState.effects.includes(effectName)) {
            this.currentState.effects.push(effectName);
            
            // æ˜¾ç¤ºç‰¹æ•ˆå›¾å±‚
            this.setLayerVisible(effectName, true);
            
            console.log(`Effect added: ${effectName}`);
            return true;
        }
        return false;
    }
    
    /**
     * ç§»é™¤ç‰¹æ•ˆ
     */
    removeEffect(effectName) {
        const index = this.currentState.effects.indexOf(effectName);
        if (index > -1) {
            this.currentState.effects.splice(index, 1);
            
            // éšè—ç‰¹æ•ˆå›¾å±‚
            this.setLayerVisible(effectName, false);
            
            console.log(`Effect removed: ${effectName}`);
            return true;
        }
        return false;
    }
    
    /**
     * å¼€å§‹çœ¨çœ¼åŠ¨ç”»
     */
    startBlink() {
        this.currentState.blink = true;
        
        // æ‰§è¡Œçœ¨çœ¼åŠ¨ç”»åºåˆ—
        this.executeBlinkAnimation();
        
        console.log('Blink animation started');
    }
    
    /**
     * æ‰§è¡Œçœ¨çœ¼åŠ¨ç”»
     */
    executeBlinkAnimation() {
        if (!this.currentState.blink) return;
        
        // çœ¨çœ¼åŠ¨ç”»åºåˆ—
        const blinkSequence = [
            { frame: 0, action: 'close' },
            { frame: 1, action: 'half' },
            { frame: 2, action: 'open' }
        ];
        
        let frameIndex = 0;
        const blinkInterval = setInterval(() => {
            if (frameIndex >= blinkSequence.length) {
                clearInterval(blinkInterval);
                this.currentState.blink = false;
                return;
            }
            
            const frame = blinkSequence[frameIndex];
            this.applyBlinkFrame(frame.action);
            frameIndex++;
        }, 66); // æ¯å¸§66msï¼Œæ€»å…±çº¦200ms
        
        console.log('Blink animation executing...');
    }
    
    /**
     * åº”ç”¨çœ¨çœ¼å¸§
     */
    applyBlinkFrame(action) {
        // æ ¹æ®åŠ¨ä½œè®¾ç½®çœ¼ç›å›¾å±‚
        switch (action) {
            case 'close':
                this.setLayerVisible('eyes_open', false);
                this.setLayerVisible('eyes_closed', true);
                break;
            case 'half':
                this.setLayerVisible('eyes_closed', false);
                this.setLayerVisible('eyes_half', true);
                break;
            case 'open':
                this.setLayerVisible('eyes_half', false);
                this.setLayerVisible('eyes_open', true);
                break;
        }
    }
    
    /**
     * å¼€å§‹è¯´è¯åŠ¨ç”»
     */
    startTalking() {
        this.currentState.talking = true;
        this.executeTalkAnimation();
    }
    
    /**
     * åœæ­¢è¯´è¯åŠ¨ç”»
     */
    stopTalking() {
        this.currentState.talking = false;
        // æ¢å¤é»˜è®¤å˜´å·´
        this.setLayerVisible('mouth_neutral', true);
    }
    
    /**
     * æ‰§è¡Œè¯´è¯åŠ¨ç”»
     */
    executeTalkAnimation() {
        if (!this.currentState.talking) return;
        
        const mouthShapes = ['mouth_a', 'mouth_b', 'mouth_c', 'mouth_d'];
        let shapeIndex = 0;
        
        const talkInterval = setInterval(() => {
            if (!this.currentState.talking) {
                clearInterval(talkInterval);
                return;
            }
            
            // åˆ‡æ¢å˜´å·´å½¢çŠ¶
            const currentShape = mouthShapes[shapeIndex];
            const nextShape = mouthShapes[(shapeIndex + 1) % mouthShapes.length];
            
            this.setLayerVisible(currentShape, false);
            this.setLayerVisible(nextShape, true);
            
            shapeIndex = (shapeIndex + 1) % mouthShapes.length;
        }, 150); // æ¯150msåˆ‡æ¢ä¸€æ¬¡
        
        console.log('Talk animation started');
    }
    
    /**
     * è·å–å½“å‰çŠ¶æ€
     */
    getCurrentState() {
        return {
            ...this.currentState,
            layers: this.getVisibleLayers()
        };
    }
    
    /**
     * è·å–å¯è§å›¾å±‚åˆ—è¡¨
     */
    getVisibleLayers() {
        const visibleLayers = [];
        
        for (const [groupName, group] of Object.entries(this.layers)) {
            if (group.visible) {
                visibleLayers.push(...group.names);
            }
        }
        
        return visibleLayers;
    }
    
    /**
     * è§¦å‘æ›´æ–°äº‹ä»¶
     */
    triggerUpdate() {
        // è¿™é‡Œå¯ä»¥è§¦å‘è‡ªå®šä¹‰äº‹ä»¶æˆ–å›è°ƒ
        if (this.onUpdate) {
            this.onUpdate(this.getCurrentState());
        }
    }
    
    /**
     * å¯¼å‡ºå½“å‰çŠ¶æ€é…ç½®
     */
    exportState() {
        return {
            config: this.config,
            currentState: this.currentState,
            visibleLayers: this.getVisibleLayers(),
            timestamp: new Date().toISOString()
        };
    }
}</code></pre>
            </div>
        </section>

        <!-- æ–‡ä»¶ç»“æ„ -->
        <section class="page-section" id="file-structure">
            <h2 class="section-title">é¡¹ç›®æ–‡ä»¶ç»“æ„</h2>
            
            <div class="file-structure">
                <div class="file-tree">
                    <ul>
                        <li>art-resources/character-arts/
                            <ul>
                                <li>characters/ (è§’è‰²èµ„æº)
                                    <ul>
                                        <li>aelia/ (è‰¾è‰å¨…)
                                            <ul>
                                                <li class="psd-file">aelia.psd</li>
                                                <li class="json-file">character_config.json</li>
                                                <li class="json-file">animation_config.json</li>
                                                <li>textures/ (çº¹ç†æ–‡ä»¶)
                                                    <ul>
                                                        <li class="png-file">base.png</li>
                                                        <li>expressions/ (è¡¨æƒ…çº¹ç†)
                                                            <ul>
                                                                <li class="png-file">neutral.png</li>
                                                                <li class="png-file">happy.png</li>
                                                                <li class="png-file">sad.png</li>
                                                            </ul>
                                                        </li>
                                                        <li>outfits/ (æœè£…çº¹ç†)
                                                            <ul>
                                                                <li class="png-file">school.png</li>
                                                                <li class="png-file">casual.png</li>
                                                                <li class="png-file">magic_robe.png</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>kain/ (å‡¯æ©)
                                            <ul>
                                                <li class="psd-file">kain.psd</li>
                                                <li class="json-file">character_config.json</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li>utils/ (å·¥å…·è„šæœ¬)
                                    <ul>
                                        <li class="js-file">LayerManager.js</li>
                                        <li class="js-file">Exporter.js</li>
                                        <li class="js-file">BatchProcessor.js</li>
                                    </ul>
                                </li>
                                <li>templates/ (æ¨¡æ¿æ–‡ä»¶)
                                    <ul>
                                        <li class="psd-file">character_template.psd</li>
                                        <li class="json-file">config_template.json</li>
                                        <li class="file">naming_convention.md</li>
                                    </ul>
                                </li>
                                <li class="file">README.md (è¯´æ˜æ–‡æ¡£)</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <p>è§’è‰²ç«‹ç»˜èµ„æºé‡‡ç”¨æ ‡å‡†åŒ–çš„æ–‡ä»¶ç»“æ„ï¼Œæ¯ä¸ªè§’è‰²éƒ½æœ‰ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ï¼ŒåŒ…å«PSDæºæ–‡ä»¶ã€é…ç½®æ–‡ä»¶å’Œçº¹ç†æ–‡ä»¶ã€‚å·¥å…·è„šæœ¬æä¾›æ‰¹é‡å¤„ç†å’Œå¯¼å‡ºåŠŸèƒ½ï¼Œæ¨¡æ¿æ–‡ä»¶å¸®åŠ©åˆ›å»ºæ–°çš„è§’è‰²èµ„æºã€‚</p>
        </section>

        <!-- ç›¸å…³èµ„æº -->
        <section class="page-section">
            <h2 class="section-title">ç›¸å…³èµ„æºä¸é“¾æ¥</h2>
            
            <p>ä»¥ä¸‹æ˜¯ä¸è§’è‰²ç«‹ç»˜èµ„æºç›¸å…³çš„èµ„æºå’Œæ–‡æ¡£é“¾æ¥ï¼š</p>
            
            <div class="resource-links">
                <a href="https://github.com/yourusername/character-arts" class="resource-link" target="_blank">
                    <i class="fab fa-github"></i> æŸ¥çœ‹å®Œæ•´èµ„æºåº“
                </a>
                
                <a href="../live2d-editor/character-model.html" class="resource-link">
                    <i class="fas fa-cube"></i> Live2Dè§’è‰²æ¨¡å‹
                </a>
                
                <a href="../art-resources/ui-elements.html" class="resource-link">
                    <i class="fas fa-th"></i> UIç•Œé¢èµ„æº
                </a>
                
                <a href="../art-resources/visual-effects.html" class="resource-link">
                    <i class="fas fa-fire"></i> è§†è§‰ç‰¹æ•ˆèµ„æº
                </a>
                
                <a href="https://www.adobe.com/products/photoshop.html" class="resource-link" target="_blank">
                    <i class="fas fa-paint-brush"></i> Adobe Photoshop
                </a>
                
                <a href="https://www.aseprite.org/" class="resource-link" target="_blank">
                    <i class="fas fa-palette"></i> Asepriteåƒç´ è‰ºæœ¯å·¥å…·
                </a>
            </div>
        </section>

        <!-- é¡µé¢å¯¼èˆª -->
        <div class="page-navigation">
            <a href="../index.html" class="nav-button">
                <i class="fas fa-home"></i> è¿”å›ä¸»é¡µé¢
            </a>
            
            <div>
                <a href="../live2d-editor/character-model.html" class="nav-button">
                    <i class="fas fa-arrow-left"></i> ä¸Šä¸€ä¸ª: Live2Dè§’è‰²æ¨¡å‹
                </a>
                <a href="../art-resources/ui-elements.html" class="nav-button">
                    ä¸‹ä¸€ä¸ª: UIç•Œé¢èµ„æº <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>
        // åˆå§‹åŒ–ä»£ç é«˜äº®
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            
            // åˆå§‹åŒ–å›¾å±‚æ¼”ç¤º
            initLayerDemo();
        });
        
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(codeId) {
            const codeElement = document.getElementById(codeId);
            const textToCopy = codeElement.textContent;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
                const button = event.target.closest('.copy-button');
                const originalHTML = button.innerHTML;
                
                button.innerHTML = '<i class="fas fa-check"></i> å·²å¤åˆ¶';
                button.style.backgroundColor = 'rgba(76, 175, 80, 0.2)';
                button.style.color = '#4CAF50';
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.style.backgroundColor = '';
                    button.style.color = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶');
            });
        }
        
        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    e.preventDefault();
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // å›¾å±‚æ¼”ç¤ºåŠŸèƒ½
        function initLayerDemo() {
            const layerToggles = document.querySelectorAll('.layer-toggle');
            const layerCanvas = document.getElementById('layerCanvas');
            
            // å›¾å±‚å…ƒç´ æ•°æ®
            const layerElements = [
                { id: 'base', name: 'åŸºç¡€çº¿ç¨¿', color: '#8b4513', icon: 'fas fa-pencil-alt', x: 50, y: 50, size: 80 },
                { id: 'skin', name: 'çš®è‚¤ä¸Šè‰²', color: '#ffd6c2', icon: 'fas fa-user', x: 150, y: 80, size: 100 },
                { id: 'hair', name: 'å¤´å‘', color: '#8b4513', icon: 'fas fa-cut', x: 100, y: 30, size: 120 },
                { id: 'eyes', name: 'çœ¼ç›', color: '#4a6fa5', icon: 'fas fa-eye', x: 120, y: 100, size: 40 },
                { id: 'clothes', name: 'æœè£…', color: '#4361ee', icon: 'fas fa-tshirt', x: 150, y: 150, size: 140 },
                { id: 'accessories', name: 'é¥°å“', color: '#f72585', icon: 'fas fa-gem', x: 80, y: 180, size: 50 },
                { id: 'effects', name: 'ç‰¹æ•ˆ', color: '#ff6b6b', icon: 'fas fa-magic', x: 200, y: 50, size: 60 },
                { id: 'shading', name: 'é˜´å½±', color: 'rgba(0,0,0,0.3)', icon: 'fas fa-adjust', x: 150, y: 100, size: 160 }
            ];
            
            // åˆ›å»ºå›¾å±‚å…ƒç´ 
            function createLayerElements() {
                layerCanvas.innerHTML = '';
                
                layerElements.forEach(layer => {
                    const element = document.createElement('div');
                    element.className = 'layer-element';
                    element.id = `layer-${layer.id}`;
                    element.dataset.layer = layer.id;
                    
                    // æ ¹æ®æ¿€æ´»çŠ¶æ€è®¾ç½®æ ·å¼
                    const isActive = document.querySelector(`.layer-toggle[data-layer="${layer.id}"]`).classList.contains('active');
                    
                    element.style.opacity = isActive ? '1' : '0.2';
                    element.style.transform = `translate(${layer.x}px, ${layer.y}px)`;
                    element.style.width = `${layer.size}px`;
                    element.style.height = `${layer.size}px`;
                    element.style.backgroundColor = layer.color;
                    element.style.borderRadius = '10px';
                    element.style.display = 'flex';
                    element.style.flexDirection = 'column';
                    element.style.alignItems = 'center';
                    element.style.justifyContent = 'center';
                    element.style.boxShadow = isActive ? '0 5px 15px rgba(0,0,0,0.3)' : 'none';
                    
                    element.innerHTML = `
                        <i class="${layer.icon}" style="font-size: ${layer.size/3}px; margin-bottom: 5px;"></i>
                        <span style="font-size: ${layer.size/10}px;">${layer.name}</span>
                    `;
                    
                    layerCanvas.appendChild(element);
                });
            }
            
            // åˆå§‹åŒ–å›¾å±‚å…ƒç´ 
            createLayerElements();
            
            // å›¾å±‚åˆ‡æ¢äº‹ä»¶
            layerToggles.forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const layerId = this.dataset.layer;
                    const isActive = this.classList.contains('active');
                    
                    // åˆ‡æ¢æ¿€æ´»çŠ¶æ€
                    if (isActive) {
                        this.classList.remove('active');
                        this.querySelector('i').className = 'far fa-square';
                    } else {
                        this.classList.add('active');
                        this.querySelector('i').className = 'fas fa-check-square';
                    }
                    
                    // æ›´æ–°å¯¹åº”å›¾å±‚å…ƒç´ 
                    const layerElement = document.getElementById(`layer-${layerId}`);
                    if (layerElement) {
                        const isNowActive = this.classList.contains('active');
                        layerElement.style.opacity = isNowActive ? '1' : '0.2';
                        layerElement.style.boxShadow = isNowActive ? '0 5px 15px rgba(0,0,0,0.3)' : 'none';
                        
                        // å¦‚æœæ˜¯ç‰¹æ•ˆå›¾å±‚ï¼Œæ·»åŠ é—ªçƒæ•ˆæœ
                        if (layerId === 'effects' && isNowActive) {
                            layerElement.style.animation = 'pulse 1s infinite';
                        } else {
                            layerElement.style.animation = '';
                        }
                    }
                    
                    // æ›´æ–°å›¾å±‚è®¡æ•°æ˜¾ç¤º
                    updateLayerCount();
                });
            });
            
            // æ›´æ–°å›¾å±‚è®¡æ•°
            function updateLayerCount() {
                const activeLayers = document.querySelectorAll('.layer-toggle.active').length;
                const totalLayers = layerToggles.length;
                
                // åœ¨ç”»å¸ƒä¸Šæ˜¾ç¤ºè®¡æ•°
                const counter = document.createElement('div');
                counter.style.position = 'absolute';
                counter.style.bottom = '10px';
                counter.style.right = '10px';
                counter.style.color = 'white';
                counter.style.backgroundColor = 'rgba(0,0,0,0.5)';
                counter.style.padding = '5px 10px';
                counter.style.borderRadius = '5px';
                counter.style.fontSize = '0.9rem';
                counter.innerHTML = `å›¾å±‚: ${activeLayers}/${totalLayers}`;
                
                // ç§»é™¤æ—§çš„è®¡æ•°å™¨
                const oldCounter = layerCanvas.querySelector('.layer-counter');
                if (oldCounter) oldCounter.remove();
                
                counter.className = 'layer-counter';
                layerCanvas.appendChild(counter);
            }
            
            // åˆå§‹æ›´æ–°
            updateLayerCount();
            
            // æ·»åŠ CSSåŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { opacity: 0.7; }
                    50% { opacity: 1; }
                    100% { opacity: 0.7; }
                }
            `;
            document.head.appendChild(style);
            
            // æ·»åŠ éšæœºåŠ¨ç”»æ•ˆæœ
            setInterval(() => {
                // éšæœºç§»åŠ¨ä¸€ä¸ªå›¾å±‚å…ƒç´ 
                const elements = document.querySelectorAll('.layer-element');
                if (elements.length > 0) {
                    const randomIndex = Math.floor(Math.random() * elements.length);
                    const element = elements[randomIndex];
                    const layerId = element.dataset.layer;
                    
                    // åªç§»åŠ¨æ¿€æ´»çš„å›¾å±‚
                    const toggle = document.querySelector(`.layer-toggle[data-layer="${layerId}"]`);
                    if (toggle && toggle.classList.contains('active')) {
                        const currentX = parseInt(element.style.transform.match(/translate\((\d+)px/)[1]);
                        const currentY = parseInt(element.style.transform.match(/,\s*(\d+)px/)[1]);
                        
                        const newX = Math.max(10, Math.min(290, currentX + (Math.random() - 0.5) * 20));
                        const newY = Math.max(10, Math.min(190, currentY + (Math.random() - 0.5) * 20));
                        
                        element.style.transition = 'transform 0.5s ease';
                        element.style.transform = `translate(${newX}px, ${newY}px)`;
                    }
                }
            }, 3000);
        }
    </script>
</body>
</html>
