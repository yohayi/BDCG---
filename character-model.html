<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live2Dè§’è‰²æ¨¡å‹ - BDCGæ¨¡æ‹Ÿå™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --primary-color: #3a0ca3;
            --secondary-color: #4361ee;
            --accent-color: #f72585;
            --live2d-color: #ff6b6b;
            --animation-color: #7209b7;
            --expression-color: #4cc9f0;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --code-bg: #282c34;
            --card-bg: #ffffff;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* å¤´éƒ¨å¯¼èˆª */
        .subpage-header {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .back-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }

        .subpage-title {
            text-align: center;
            flex-grow: 1;
        }

        .subpage-title h1 {
            font-size: 2rem;
            margin-bottom: 0.3rem;
        }

        .subpage-title p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .header-actions a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .header-actions a:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        /* ä¸»è¦å†…å®¹ */
        .main-content {
            padding: 3rem 0;
        }

        .page-section {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2.5rem;
        }

        .section-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-color);
            display: inline-block;
        }

        .section-subtitle {
            color: var(--secondary-color);
            margin: 1.5rem 0 1rem;
            font-size: 1.3rem;
        }

        /* Live2Då±•ç¤ºåŒºåŸŸ */
        .live2d-demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        @media (max-width: 992px) {
            .live2d-demo-container {
                grid-template-columns: 1fr;
            }
        }

        .live2d-canvas-container {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 500px;
            position: relative;
            overflow: hidden;
        }

        .live2d-canvas {
            width: 100%;
            height: 400px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .live2d-placeholder {
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            padding: 2rem;
        }

        .live2d-controls {
            width: 100%;
            margin-top: 1.5rem;
        }

        .control-group {
            margin-bottom: 1.2rem;
        }

        .control-label {
            display: block;
            color: white;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .control-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }

        .control-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--live2d-color);
            cursor: pointer;
            border: 2px solid white;
        }

        .expression-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .expression-btn {
            background-color: rgba(76, 201, 240, 0.2);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .expression-btn:hover {
            background-color: rgba(76, 201, 240, 0.4);
            transform: translateY(-3px);
        }

        .expression-btn.active {
            background-color: var(--expression-color);
        }

        /* é¡¹ç›®æ¦‚è§ˆ */
        .project-overview {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 992px) {
            .project-overview {
                grid-template-columns: 1fr;
            }
        }

        .project-description p {
            margin-bottom: 1.2rem;
            color: var(--dark-color);
        }

        .project-meta {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .meta-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid #dee2e6;
        }

        .meta-item:last-child {
            border-bottom: none;
        }

        .meta-label {
            font-weight: 600;
            color: var(--primary-color);
        }

        .meta-value {
            color: var(--gray-color);
        }

        /* åŠŸèƒ½å±•ç¤ºç½‘æ ¼ */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .feature-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            transition: var(--transition);
            border-left: 4px solid var(--live2d-color);
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--live2d-color);
        }

        .feature-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.8rem;
            font-size: 1.3rem;
        }

        .feature-card p {
            color: var(--gray-color);
            font-size: 0.95rem;
            margin-bottom: 1.2rem;
        }

        /* ä»£ç æ¼”ç¤º */
        .code-demo {
            background-color: var(--code-bg);
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 0.8rem 1.2rem;
            color: #abb2bf;
        }

        .code-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-button {
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: #abb2bf;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .copy-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        pre {
            margin: 0;
            padding: 1.5rem;
            overflow-x: auto;
            line-height: 1.5;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
        }

        .hljs {
            background: transparent;
        }

        /* æ–‡ä»¶ç»“æ„ */
        .file-structure {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .file-tree {
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
        }

        .file-tree ul {
            list-style-type: none;
            padding-left: 1.5rem;
        }

        .file-tree li {
            position: relative;
            padding: 0.2rem 0;
        }

        .file-tree li:before {
            content: "ğŸ“";
            position: absolute;
            left: -1.2rem;
        }

        .file-tree .file:before {
            content: "ğŸ“„";
        }

        .file-tree .json-file:before {
            content: "ğŸ“‹";
        }

        .file-tree .model-file:before {
            content: "ğŸ­";
        }

        .file-tree .texture-file:before {
            content: "ğŸ–¼ï¸";
        }

        /* æ¨¡å‹å±•ç¤º */
        .model-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .model-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .model-image {
            height: 180px;
            background-color: var(--dark-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .model-info {
            padding: 1.2rem;
        }

        .model-info h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .model-info p {
            color: var(--gray-color);
            font-size: 0.9rem;
            margin-bottom: 0.8rem;
        }

        .model-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .model-tag {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--secondary-color);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* ç›¸å…³èµ„æº */
        .resource-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .resource-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--secondary-color);
            text-decoration: none;
            padding: 0.7rem 1.2rem;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: 6px;
            transition: var(--transition);
        }

        .resource-link:hover {
            background-color: rgba(67, 97, 238, 0.2);
            transform: translateY(-3px);
        }

        /* é¡µé¢å¯¼èˆª */
        .page-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #dee2e6;
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .nav-button:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .header-actions {
                justify-content: center;
            }
            
            .subpage-title h1 {
                font-size: 1.7rem;
            }
            
            .feature-grid, .model-showcase {
                grid-template-columns: 1fr;
            }
            
            .page-navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-button {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="subpage-header">
        <div class="container">
            <div class="header-content">
                <a href="../index.html" class="back-button">
                    <i class="fas fa-arrow-left"></i> è¿”å›ä¸»é¡µ
                </a>
                
                <div class="subpage-title">
                    <h1>Live2Dè§’è‰²æ¨¡å‹</h1>
                    <p>åŠ¨æ€2Dè§’è‰²æ¨¡å‹ç¼–è¾‘ä¸å®ç°</p>
                </div>
                
                <div class="header-actions">
                    <a href="#live2d-demo"><i class="fas fa-cube"></i> äº¤äº’æ¼”ç¤º</a>
                    <a href="#code-demo"><i class="fas fa-code"></i> ä»£ç </a>
                    <a href="#model-showcase"><i class="fas fa-images"></i> æ¨¡å‹åº“</a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <!-- é¡¹ç›®æ¦‚è§ˆ -->
        <section class="page-section">
            <h2 class="section-title">é¡¹ç›®æ¦‚è§ˆ</h2>
            
            <div class="project-overview">
                <div class="project-description">
                    <p>Live2Dæ˜¯ä¸€ç§2Då›¾åƒæ¸²æŸ“æŠ€æœ¯ï¼Œèƒ½å¤Ÿè®©é™æ€çš„2Då›¾åƒä»¥åŠ¨æ€ã€ç«‹ä½“çš„å½¢å¼å‘ˆç°ã€‚æœ¬ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„Live2Dè§’è‰²æ¨¡å‹ç¼–è¾‘å™¨å’Œé›†æˆç¯å¢ƒï¼Œæ”¯æŒæ¨¡å‹çš„å¯¼å…¥ã€ç¼–è¾‘ã€åŠ¨ç”»åˆ¶ä½œå’Œå®æ—¶é¢„è§ˆã€‚</p>
                    
                    <p>ç³»ç»ŸåŒ…å«å®Œæ•´çš„å‚æ•°æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥å®æ—¶è°ƒæ•´è§’è‰²çš„è¡¨æƒ…ã€å§¿åŠ¿å’ŒåŠ¨ä½œã€‚æ”¯æŒç‰©ç†æ¨¡æ‹Ÿï¼ˆå¤´å‘ã€æœè£…æ‘†åŠ¨ï¼‰ã€å‘¼å¸åŠ¨ç”»ã€è§†çº¿è·Ÿè¸ªå’Œè§¦æ‘¸å“åº”ç­‰é«˜çº§åŠŸèƒ½ã€‚æ‰€æœ‰æ¨¡å‹æ•°æ®é‡‡ç”¨JSONæ ¼å¼å­˜å‚¨ï¼Œä¾¿äºç¼–è¾‘å’Œæ‰©å±•ã€‚</p>
                    
                    <p>æœ¬é¡µé¢å°†å±•ç¤ºLive2Dæ¨¡å‹çš„æ ¸å¿ƒåŠŸèƒ½ã€å‚æ•°ç¼–è¾‘ç³»ç»Ÿã€åŠ¨ç”»åˆ¶ä½œæµç¨‹ä»¥åŠæ¨¡å‹èµ„æºåº“ã€‚æ‚¨å¯ä»¥é€šè¿‡äº¤äº’æ¼”ç¤ºç›´æ¥ä½“éªŒLive2Dæ¨¡å‹çš„åŠ¨æ€æ•ˆæœã€‚</p>
                </div>
                
                <div class="project-meta">
                    <div class="meta-item">
                        <span class="meta-label">æŠ€æœ¯æ ˆ:</span>
                        <span class="meta-value">JavaScript + Live2D SDK</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æ–‡ä»¶æ•°é‡:</span>
                        <span class="meta-value">18ä¸ª</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æœ€åæ›´æ–°:</span>
                        <span class="meta-value">2023-09-22</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æ¨¡å‹æ ¼å¼:</span>
                        <span class="meta-value">.moc, .moc3</span>
                    </div>
                    <div class="meta-label">æ”¯æŒåŠŸèƒ½:</span>
                        <span class="meta-value">è¡¨æƒ…/åŠ¨ä½œ/ç‰©ç†</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">æ¸²æŸ“æ–¹å¼:</span>
                        <span class="meta-value">WebGL + Canvas</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Live2Däº¤äº’æ¼”ç¤º -->
        <section class="page-section" id="live2d-demo">
            <h2 class="section-title">Live2Däº¤äº’æ¼”ç¤º</h2>
            
            <div class="live2d-demo-container">
                <div class="live2d-canvas-container">
                    <div class="live2d-canvas" id="live2dCanvas">
                        <div class="live2d-placeholder">
                            <i class="fas fa-user" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                            <h3>Live2Dæ¨¡å‹æ¼”ç¤º</h3>
                            <p>è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„Live2Då±•ç¤ºåŒºåŸŸ</p>
                            <p>ä½¿ç”¨ä¸‹æ–¹çš„æ§åˆ¶é¢æ¿è°ƒæ•´æ¨¡å‹å‚æ•°</p>
                        </div>
                    </div>
                    
                    <div class="live2d-controls">
                        <div class="control-group">
                            <label class="control-label">è¡¨æƒ…æ§åˆ¶:</label>
                            <div class="expression-buttons">
                                <button class="expression-btn active" data-expression="neutral">ä¸­æ€§</button>
                                <button class="expression-btn" data-expression="happy">å¼€å¿ƒ</button>
                                <button class="expression-btn" data-expression="sad">æ‚²ä¼¤</button>
                                <button class="expression-btn" data-expression="angry">ç”Ÿæ°”</button>
                                <button class="expression-btn" data-expression="surprised">æƒŠè®¶</button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">çœ¼ç›å¼€åˆ: <span id="eyeValue">0.5</span></label>
                            <input type="range" class="control-slider" id="eyeSlider" min="0" max="1" step="0.01" value="0.5">
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">å˜´å·´å¼€åˆ: <span id="mouthValue">0.3</span></label>
                            <input type="range" class="control-slider" id="mouthSlider" min="0" max="1" step="0.01" value="0.3">
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">å¤´éƒ¨è§’åº¦X: <span id="headXValue">0</span></label>
                            <input type="range" class="control-slider" id="headXSlider" min="-30" max="30" step="1" value="0">
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">å¤´éƒ¨è§’åº¦Y: <span id="headYValue">0</span></label>
                            <input type="range" class="control-slider" id="headYSlider" min="-30" max="30" step="1" value="0">
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="section-subtitle">Live2DæŠ€æœ¯ç‰¹ç‚¹</h3>
                    <p>Live2D Cubismæ˜¯ä¸€ç§2Dæ¸²æŸ“æŠ€æœ¯ï¼Œå®ƒé€šè¿‡å¯¹2Då›¾åƒè¿›è¡Œç½‘æ ¼åˆ’åˆ†å’Œå‚æ•°åŒ–å˜å½¢ï¼Œå®ç°äº†2Då›¾åƒçš„åŠ¨æ€æ•ˆæœï¼ŒåŒæ—¶ä¿æŒäº†åŸå§‹è‰ºæœ¯é£æ ¼ã€‚</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-smile"></i>
                            </div>
                            <h4>è¡¨æƒ…ç³»ç»Ÿ</h4>
                            <p>é€šè¿‡å‚æ•°æ··åˆå®ç°ä¸°å¯Œçš„è¡¨æƒ…å˜åŒ–ï¼Œæ”¯æŒå¹³æ»‘è¿‡æ¸¡å’Œç»„åˆè¡¨æƒ…ã€‚</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-running"></i>
                            </div>
                            <h4>åŠ¨ä½œæ§åˆ¶</h4>
                            <p>æ”¯æŒéª¨éª¼åŠ¨ç”»å’Œç½‘æ ¼å˜å½¢ï¼Œå®ç°è‡ªç„¶çš„è§’è‰²åŠ¨ä½œå’Œå§¿åŠ¿å˜åŒ–ã€‚</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h4>ç‰©ç†æ¨¡æ‹Ÿ</h4>
                            <p>æ¨¡æ‹Ÿå¤´å‘ã€æœè£…çš„ç‰©ç†æ‘†åŠ¨ï¼Œå¢å¼ºè§’è‰²çš„åŠ¨æ€çœŸå®æ„Ÿã€‚</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h4>è§†çº¿è·Ÿè¸ª</h4>
                            <p>æ ¹æ®é¼ æ ‡ä½ç½®æˆ–é¢„è®¾ç›®æ ‡è‡ªåŠ¨è°ƒæ•´è§’è‰²è§†çº¿æ–¹å‘ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ä»£ç æ¼”ç¤º -->
        <section class="page-section" id="code-demo">
            <h2 class="section-title">æ ¸å¿ƒä»£ç å®ç°</h2>
            
            <h3 class="section-subtitle">Live2Dæ¨¡å‹åŠ è½½å™¨ (Live2DLoader.js)</h3>
            <div class="code-demo">
                <div class="code-header">
                    <div class="code-title">
                        <i class="fas fa-file-code"></i>
                        <span>live2d-editor/core/Live2DLoader.js</span>
                    </div>
                    <button class="copy-button" onclick="copyCode('code1')">
                        <i class="far fa-copy"></i> å¤åˆ¶ä»£ç 
                    </button>
                </div>
                <pre><code class="javascript" id="code1">/**
 * Live2Dè§’è‰²æ¨¡å‹ - æ¨¡å‹åŠ è½½å™¨
 * è´Ÿè´£åŠ è½½Live2Dæ¨¡å‹æ–‡ä»¶ã€çº¹ç†å’ŒåŠ¨ä½œæ•°æ®
 */
class Live2DLoader {
    constructor(canvasId) {
        this.canvas = document.getElementById(canvasId);
        this.gl = this.canvas.getContext('webgl') || this.canvas.getContext('experimental-webgl');
        
        if (!this.gl) {
            console.error('WebGL not supported');
            return;
        }
        
        // Live2Dæ¨¡å‹å®ä¾‹
        this.model = null;
        
        // æ¨¡å‹æ•°æ®
        this.modelData = {
            moc: null,          // æ¨¡å‹æ–‡ä»¶
            textures: [],       // çº¹ç†å›¾ç‰‡
            physics: null,      // ç‰©ç†æ–‡ä»¶
            poses: null,        // å§¿åŠ¿æ–‡ä»¶
            expressions: [],    // è¡¨æƒ…æ–‡ä»¶
            motions: {}         // åŠ¨ä½œæ–‡ä»¶
        };
        
        // æ¨¡å‹å‚æ•°
        this.parameters = {};
        this.parts = {};
        
        // åŠ¨ç”»çŠ¶æ€
        this.animationState = {
            currentExpression: 'neutral',
            isTalking: false,
            isBlinking: false,
            blinkTimer: 0,
            lookAtTarget: { x: 0, y: 0 }
        };
        
        // ç‰©ç†æ¨¡æ‹Ÿå™¨
        this.physicsSimulator = null;
        
        // åˆå§‹åŒ–WebGL
        this.initWebGL();
    }
    
    /**
     * åˆå§‹åŒ–WebGLç¯å¢ƒ
     */
    initWebGL() {
        const gl = this.gl;
        
        // è®¾ç½®è§†å£
        gl.viewport(0, 0, this.canvas.width, this.canvas.height);
        
        // è®¾ç½®æ¸…é™¤é¢œè‰²
        gl.clearColor(0.0, 0.0, 0.0, 0.0);
        
        // å¯ç”¨æ··åˆï¼ˆé€æ˜çº¹ç†ï¼‰
        gl.enable(gl.BLEND);
        gl.blendFuncSeparate(
            gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,
            gl.ONE, gl.ONE_MINUS_SRC_ALPHA
        );
        
        // å¯ç”¨æ·±åº¦æµ‹è¯•
        gl.enable(gl.DEPTH_TEST);
        gl.depthFunc(gl.LEQUAL);
        
        console.log('WebGL initialized successfully');
    }
    
    /**
     * åŠ è½½Live2Dæ¨¡å‹
     */
    async loadModel(modelPath) {
        try {
            console.log(`Loading Live2D model from: ${modelPath}`);
            
            // 1. åŠ è½½æ¨¡å‹å®šä¹‰æ–‡ä»¶
            const modelJson = await this.fetchJson(`${modelPath}/model.json`);
            
            // 2. åŠ è½½æ¨¡å‹æ–‡ä»¶(.moc)
            const mocBuffer = await this.fetchArrayBuffer(`${modelPath}/${modelJson.model}`);
            this.modelData.moc = mocBuffer;
            
            // 3. åŠ è½½çº¹ç†
            const texturePromises = modelJson.textures.map(textureFile => 
                this.loadTexture(`${modelPath}/${textureFile}`)
            );
            this.modelData.textures = await Promise.all(texturePromises);
            
            // 4. åŠ è½½ç‰©ç†æ–‡ä»¶(å¦‚æœæœ‰)
            if (modelJson.physics) {
                this.modelData.physics = await this.fetchJson(
                    `${modelPath}/${modelJson.physics}`
                );
                this.initPhysics();
            }
            
            // 5. åŠ è½½å§¿åŠ¿æ–‡ä»¶(å¦‚æœæœ‰)
            if (modelJson.pose) {
                this.modelData.poses = await this.fetchJson(
                    `${modelPath}/${modelJson.pose}`
                );
            }
            
            // 6. åŠ è½½è¡¨æƒ…æ–‡ä»¶(å¦‚æœæœ‰)
            if (modelJson.expressions) {
                const expressionPromises = modelJson.expressions.map(expr => 
                    this.fetchJson(`${modelPath}/${expr.file}`)
                );
                this.modelData.expressions = await Promise.all(expressionPromises);
            }
            
            // 7. åŠ è½½åŠ¨ä½œæ–‡ä»¶(å¦‚æœæœ‰)
            if (modelJson.motions) {
                for (const [group, motions] of Object.entries(modelJson.motions)) {
                    this.modelData.motions[group] = [];
                    for (const motion of motions) {
                        const motionData = await this.fetchJson(
                            `${modelPath}/${motion.file}`
                        );
                        this.modelData.motions[group].push(motionData);
                    }
                }
            }
            
            // 8. åˆå§‹åŒ–æ¨¡å‹
            await this.initModel();
            
            console.log('Live2D model loaded successfully');
            return true;
            
        } catch (error) {
            console.error('Failed to load Live2D model:', error);
            return false;
        }
    }
    
    /**
     * åˆå§‹åŒ–Live2Dæ¨¡å‹
     */
    async initModel() {
        // åˆ›å»ºLive2Dæ¨¡å‹å®ä¾‹
        this.model = new Live2DModel(this.gl, this.modelData.moc);
        
        // è®¾ç½®çº¹ç†
        this.model.setTextures(this.modelData.textures);
        
        // æå–æ¨¡å‹å‚æ•°å’Œéƒ¨ä»¶
        this.extractParameters();
        this.extractParts();
        
        // è®¾ç½®åˆå§‹å‚æ•°å€¼
        this.resetParameters();
        
        // å¼€å§‹æ¸²æŸ“å¾ªç¯
        this.startRendering();
    }
    
    /**
     * æå–æ¨¡å‹å‚æ•°
     */
    extractParameters() {
        const parameterCount = this.model.getParameterCount();
        this.parameters = {};
        
        for (let i = 0; i < parameterCount; i++) {
            const paramInfo = this.model.getParameterInfo(i);
            this.parameters[paramInfo.id] = {
                index: i,
                defaultValue: paramInfo.defaultValue,
                min: paramInfo.min,
                max: paramInfo.max,
                value: paramInfo.defaultValue
            };
        }
        
        console.log(`Extracted ${Object.keys(this.parameters).length} parameters`);
    }
    
    /**
     * æå–æ¨¡å‹éƒ¨ä»¶
     */
    extractParts() {
        const partCount = this.model.getPartCount();
        this.parts = {};
        
        for (let i = 0; i < partCount; i++) {
            const partInfo = this.model.getPartInfo(i);
            this.parts[partInfo.id] = {
                index: i,
                opacity: 1.0
            };
        }
        
        console.log(`Extracted ${Object.keys(this.parts).length} parts`);
    }
    
    /**
     * åˆå§‹åŒ–ç‰©ç†æ¨¡æ‹Ÿ
     */
    initPhysics() {
        if (!this.modelData.physics) return;
        
        this.physicsSimulator = new Live2DPhysics();
        this.physicsSimulator.setup(this.modelData.physics);
        
        console.log('Physics simulation initialized');
    }
    
    /**
     * é‡ç½®æ‰€æœ‰å‚æ•°ä¸ºé»˜è®¤å€¼
     */
    resetParameters() {
        for (const paramId in this.parameters) {
            this.parameters[paramId].value = this.parameters[paramId].defaultValue;
            this.model.setParameterValueById(paramId, this.parameters[paramId].value);
        }
    }
    
    /**
     * è®¾ç½®å‚æ•°å€¼
     */
    setParameter(paramId, value) {
        if (!this.parameters[paramId]) {
            console.warn(`Parameter ${paramId} not found`);
            return;
        }
        
        // é™åˆ¶å€¼åœ¨èŒƒå›´å†…
        const param = this.parameters[paramId];
        value = Math.max(param.min, Math.min(param.max, value));
        
        // æ›´æ–°å‚æ•°å€¼
        param.value = value;
        this.model.setParameterValueById(paramId, value);
    }
    
    /**
     * è·å–å‚æ•°å€¼
     */
    getParameter(paramId) {
        return this.parameters[paramId] ? this.parameters[paramId].value : null;
    }
    
    /**
     * è®¾ç½®è¡¨æƒ…
     */
    setExpression(expressionId) {
        if (!this.modelData.expressions) return;
        
        // æŸ¥æ‰¾è¡¨æƒ…
        const expression = this.modelData.expressions.find(
            expr => expr.name === expressionId
        );
        
        if (!expression) {
            console.warn(`Expression ${expressionId} not found`);
            return;
        }
        
        // åº”ç”¨è¡¨æƒ…å‚æ•°
        for (const param of expression.params) {
            this.setParameter(param.id, param.value);
        }
        
        this.animationState.currentExpression = expressionId;
        console.log(`Expression set to: ${expressionId}`);
    }
    
    /**
     * æ’­æ”¾åŠ¨ä½œ
     */
    playMotion(group, index = 0) {
        if (!this.modelData.motions[group] || 
            !this.modelData.motions[group][index]) {
            console.warn(`Motion ${group}[${index}] not found`);
            return;
        }
        
        const motion = this.modelData.motions[group][index];
        
        // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€è¦å®ç°åŠ¨ä½œæ’­æ”¾å™¨
        console.log(`Playing motion: ${group}[${index}]`);
        
        // æ›´æ–°åŠ¨ç”»çŠ¶æ€
        this.animationState.isPlayingMotion = true;
        this.animationState.currentMotion = { group, index };
    }
    
    /**
     * å¼€å§‹æ¸²æŸ“å¾ªç¯
     */
    startRendering() {
        const render = () => {
            this.update();
            this.draw();
            requestAnimationFrame(render);
        };
        
        render();
    }
    
    /**
     * æ›´æ–°æ¨¡å‹çŠ¶æ€
     */
    update() {
        // æ›´æ–°ç‰©ç†æ¨¡æ‹Ÿ
        if (this.physicsSimulator) {
            this.physicsSimulator.update(this.model, Date.now());
        }
        
        // æ›´æ–°çœ¨çœ¼åŠ¨ç”»
        this.updateBlink();
        
        // æ›´æ–°è§†çº¿è·Ÿè¸ª
        this.updateLookAt();
        
        // æ›´æ–°å‘¼å¸åŠ¨ç”»
        this.updateBreathing();
        
        // æ›´æ–°æ¨¡å‹
        this.model.update();
    }
    
    /**
     * æ›´æ–°çœ¨çœ¼åŠ¨ç”»
     */
    updateBlink() {
        if (!this.animationState.isBlinking) {
            this.animationState.blinkTimer += 1/60; // å‡è®¾60fps
            
            // æ¯3-5ç§’çœ¨çœ¼ä¸€æ¬¡
            if (this.animationState.blinkTimer > 3 + Math.random() * 2) {
                this.animationState.isBlinking = true;
                this.animationState.blinkTimer = 0;
            }
        } else {
            // çœ¨çœ¼åŠ¨ç”» (0.2ç§’å®Œæˆ)
            const blinkDuration = 0.2;
            const blinkProgress = this.animationState.blinkTimer / blinkDuration;
            
            if (blinkProgress < 0.5) {
                // é—­çœ¼
                const eyeClose = blinkProgress * 2;
                this.setParameter('ParamEyeLOpen', 1 - eyeClose);
                this.setParameter('ParamEyeROpen', 1 - eyeClose);
            } else if (blinkProgress < 1) {
                // ççœ¼
                const eyeOpen = (blinkProgress - 0.5) * 2;
                this.setParameter('ParamEyeLOpen', eyeOpen);
                this.setParameter('ParamEyeROpen', eyeOpen);
            } else {
                // çœ¨çœ¼å®Œæˆ
                this.animationState.isBlinking = false;
                this.setParameter('ParamEyeLOpen', 1);
                this.setParameter('ParamEyeROpen', 1);
            }
            
            this.animationState.blinkTimer += 1/60;
        }
    }
    
    /**
     * æ›´æ–°è§†çº¿è·Ÿè¸ª
     */
    updateLookAt() {
        const target = this.animationState.lookAtTarget;
        
        // è®¡ç®—è§†çº¿æ–¹å‘
        const lookX = Math.max(-1, Math.min(1, target.x / this.canvas.width * 2 - 1));
        const lookY = Math.max(-1, Math.min(1, target.y / this.canvas.height * 2 - 1));
        
        // åº”ç”¨è§†çº¿å‚æ•° (å‡è®¾æ¨¡å‹æœ‰è¿™äº›å‚æ•°)
        this.setParameter('ParamEyeBallX', lookX);
        this.setParameter('ParamEyeBallY', lookY);
        this.setParameter('ParamAngleX', lookX * 15); // å¤´éƒ¨è·Ÿéš
        this.setParameter('ParamAngleY', lookY * 10);
    }
    
    /**
     * æ›´æ–°å‘¼å¸åŠ¨ç”»
     */
    updateBreathing() {
        const time = Date.now() / 1000;
        const breath = Math.sin(time * 2 * Math.PI / 3) * 0.5 + 0.5; // 3ç§’å‘¼å¸å‘¨æœŸ
        
        // åº”ç”¨å‘¼å¸å‚æ•°
        this.setParameter('ParamBreath', breath * 0.3);
    }
    
    /**
     * è®¾ç½®è§†çº¿ç›®æ ‡
     */
    setLookAtTarget(x, y) {
        this.animationState.lookAtTarget = { x, y };
    }
    
    /**
     * ç»˜åˆ¶æ¨¡å‹
     */
    draw() {
        const gl = this.gl;
        
        // æ¸…é™¤ç”»å¸ƒ
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
        
        // ç»˜åˆ¶æ¨¡å‹
        this.model.draw();
    }
    
    /**
     * å·¥å…·å‡½æ•°ï¼šè·å–JSONæ–‡ä»¶
     */
    async fetchJson(url) {
        const response = await fetch(url);
        if (!response.ok) throw new Error(`Failed to fetch JSON: ${url}`);
        return await response.json();
    }
    
    /**
     * å·¥å…·å‡½æ•°ï¼šè·å–ArrayBuffer
     */
    async fetchArrayBuffer(url) {
        const response = await fetch(url);
        if (!response.ok) throw new Error(`Failed to fetch ArrayBuffer: ${url}`);
        return await response.arrayBuffer();
    }
    
    /**
     * å·¥å…·å‡½æ•°ï¼šåŠ è½½çº¹ç†
     */
    loadTexture(url) {
        return new Promise((resolve, reject) => {
            const image = new Image();
            image.crossOrigin = 'anonymous';
            image.onload = () => {
                const texture = this.gl.createTexture();
                this.gl.bindTexture(this.gl.TEXTURE_2D, texture);
                this.gl.texImage2D(
                    this.gl.TEXTURE_2D, 0, this.gl.RGBA, 
                    this.gl.RGBA, this.gl.UNSIGNED_BYTE, image
                );
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);
                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);
                resolve(texture);
            };
            image.onerror = reject;
            image.src = url;
        });
    }
}</code></pre>
            </div>
            
            <h3 class="section-subtitle">Live2Dæ¨¡å‹é…ç½®æ–‡ä»¶ç¤ºä¾‹ (model.json)</h3>
            <div class="code-demo">
                <div class="code-header">
                    <div class="code-title">
                        <i class="fas fa-file-code"></i>
                        <span>live2d-editor/models/character/model.json</span>
                    </div>
                    <button class="copy-button" onclick="copyCode('code2')">
                        <i class="far fa-copy"></i> å¤åˆ¶ä»£ç 
                    </button>
                </div>
                <pre><code class="json" id="code2">{
  "version": "Sample 1.0.0",
  "model": "character.moc",
  "textures": [
    "character.1024/texture_00.png",
    "character.1024/texture_01.png",
    "character.1024/texture_02.png"
  ],
  "physics": "character.physics.json",
  "pose": "character.pose.json",
  "expressions": [
    {
      "name": "neutral",
      "file": "expressions/neutral.exp.json"
    },
    {
      "name": "happy",
      "file": "expressions/happy.exp.json"
    },
    {
      "name": "sad",
      "file": "expressions/sad.exp.json"
    },
    {
      "name": "angry",
      "file": "expressions/angry.exp.json"
    },
    {
      "name": "surprised",
      "file": "expressions/surprised.exp.json"
    }
  ],
  "motions": {
    "idle": [
      {
        "file": "motions/idle_01.mtn.json",
        "sound": "sounds/idle_01.mp3"
      },
      {
        "file": "motions/idle_02.mtn.json",
        "sound": "sounds/idle_02.mp3"
      }
    ],
    "tap_body": [
      {
        "file": "motions/tap_body_01.mtn.json",
        "sound": "sounds/tap_body_01.mp3"
      }
    ],
    "thanking": [
      {
        "file": "motions/thanking.mtn.json",
        "sound": "sounds/thanking.mp3"
      }
    ]
  },
  "layout": {
    "center_x": 0,
    "center_y": -0.05,
    "width": 2
  },
  "hit_areas": [
    {
      "name": "head",
      "id": "D_REF.HEAD"
    },
    {
      "name": "body",
      "id": "D_REF.BODY"
    },
    {
      "name": "arm",
      "id": "D_REF.ARM"
    }
  ],
  "metadata": {
    "title": "Sample Character",
    "author": "Live2D Sample",
    "version": "1.0.0",
    "description": "Sample Live2D character model for demonstration",
    "created": "2023-09-01",
    "modified": "2023-09-22"
  }
}</code></pre>
            </div>
        </section>

        <!-- æ–‡ä»¶ç»“æ„ -->
        <section class="page-section" id="file-structure">
            <h2 class="section-title">é¡¹ç›®æ–‡ä»¶ç»“æ„</h2>
            
            <div class="file-structure">
                <div class="file-tree">
                    <ul>
                        <li>live2d-editor/
                            <ul>
                                <li>core/ (æ ¸å¿ƒå¼•æ“)
                                    <ul>
                                        <li class="js-file">Live2DLoader.js</li>
                                        <li class="js-file">Live2DRenderer.js</li>
                                        <li class="js-file">Live2DPhysics.js</li>
                                        <li class="js-file">Live2DAnimation.js</li>
                                        <li class="js-file">ParameterController.js</li>
                                        <li class="js-file">ExpressionManager.js</li>
                                    </ul>
                                </li>
                                <li>models/ (æ¨¡å‹æ–‡ä»¶)
                                    <ul>
                                        <li>character/ (ç¤ºä¾‹è§’è‰²)
                                            <ul>
                                                <li class="model-file">character.moc</li>
                                                <li class="json-file">model.json</li>
                                                <li class="json-file">character.physics.json</li>
                                                <li class="json-file">character.pose.json</li>
                                                <li class="texture-file">texture_00.png</li>
                                                <li class="texture-file">texture_01.png</li>
                                                <li class="texture-file">texture_02.png</li>
                                                <li>expressions/ (è¡¨æƒ…æ–‡ä»¶)
                                                    <ul>
                                                        <li class="json-file">neutral.exp.json</li>
                                                        <li class="json-file">happy.exp.json</li>
                                                        <li class="json-file">sad.exp.json</li>
                                                    </ul>
                                                </li>
                                                <li>motions/ (åŠ¨ä½œæ–‡ä»¶)
                                                    <ul>
                                                        <li class="json-file">idle_01.mtn.json</li>
                                                        <li class="json-file">idle_02.mtn.json</li>
                                                        <li class="json-file">tap_body_01.mtn.json</li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>chibi/ (Qç‰ˆè§’è‰²)
                                            <ul>
                                                <li class="model-file">chibi.moc</li>
                                                <li class="json-file">model.json</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li>editor/ (ç¼–è¾‘å™¨ç•Œé¢)
                                    <ul>
                                        <li class="js-file">EditorUI.js</li>
                                        <li class="js-file">ParameterPanel.js</li>
                                        <li class="js-file">TimelineEditor.js</li>
                                        <li class="js-file">ExpressionEditor.js</li>
                                    </ul>
                                </li>
                                <li class="file">README.md (è¯´æ˜æ–‡æ¡£)</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <p>Live2Dæ¨¡å‹é¡¹ç›®é‡‡ç”¨åˆ†å±‚ç»“æ„ç»„ç»‡ã€‚æ ¸å¿ƒå¼•æ“è´Ÿè´£æ¨¡å‹åŠ è½½å’Œæ¸²æŸ“ï¼Œæ¨¡å‹æ–‡ä»¶åŒ…å«æ‰€æœ‰èµ„æºï¼Œç¼–è¾‘å™¨æä¾›å¯è§†åŒ–ç¼–è¾‘ç•Œé¢ã€‚è¿™ç§ç»“æ„ä¾¿äºç®¡ç†å¤šä¸ªè§’è‰²æ¨¡å‹å’Œæ‰©å±•åŠŸèƒ½ã€‚</p>
        </section>

        <!-- æ¨¡å‹å±•ç¤º -->
        <section class="page-section" id="model-showcase">
            <h2 class="section-title">è§’è‰²æ¨¡å‹åº“</h2>
            
            <div class="model-showcase">
                <div class="model-card">
                    <div class="model-image" style="background-color: #4361ee;">
                        <i class="fas fa-female"></i>
                    </div>
                    <div class="model-info">
                        <h4>å°‘å¥³è§’è‰² - æ¨±</h4>
                        <p>æ ¡å›­é£æ ¼çš„å°‘å¥³è§’è‰²ï¼ŒåŒ…å«ä¸°å¯Œçš„è¡¨æƒ…å’ŒåŠ¨ä½œã€‚</p>
                        <div class="model-tags">
                            <span class="model-tag">å­¦ç”Ÿ</span>
                            <span class="model-tag">åŒé©¬å°¾</span>
                            <span class="model-tag">7ç§è¡¨æƒ…</span>
                        </div>
                    </div>
                </div>
                
                <div class="model-card">
                    <div class="model-image" style="background-color: #3a0ca3;">
                        <i class="fas fa-male"></i>
                    </div>
                    <div class="model-info">
                        <h4>å°‘å¹´è§’è‰² - æ«</h4>
                        <p>è¿åŠ¨é£æ ¼çš„å°‘å¹´è§’è‰²ï¼Œæ”¯æŒç‰©ç†æ¨¡æ‹Ÿçš„å¤´å‘å’Œæœè£…ã€‚</p>
                        <div class="model-tags">
                            <span class="model-tag">è¿åŠ¨</span>
                            <span class="model-tag">çŸ­å‘</span>
                            <span class="model-tag">ç‰©ç†æ¨¡æ‹Ÿ</span>
                        </div>
                    </div>
                </div>
                
                <div class="model-card">
                    <div class="model-image" style="background-color: #f72585;">
                        <i class="fas fa-cat"></i>
                    </div>
                    <div class="model-info">
                        <h4>å…½å¨˜è§’è‰² - ç±³äºš</h4>
                        <p>çŒ«è€³å…½å¨˜è§’è‰²ï¼ŒåŒ…å«è€³æœµå’Œå°¾å·´çš„ç‹¬ç«‹ç‰©ç†æ¨¡æ‹Ÿã€‚</p>
                        <div class="model-tags">
                            <span class="model-tag">å…½å¨˜</span>
                            <span class="model-tag">çŒ«è€³</span>
                            <span class="model-tag">å°¾å·´ç‰©ç†</span>
                        </div>
                    </div>
                </div>
                
                <div class="model-card">
                    <div class="model-image" style="background-color: #7209b7;">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="model-info">
                        <h4>æœºæ¢°è§’è‰² - é›¶å¼</h4>
                        <p>æœªæ¥é£æ ¼çš„æœºæ¢°è§’è‰²ï¼ŒåŒ…å«å‘å…‰éƒ¨ä»¶å’Œæœºæ¢°åŠ¨ä½œã€‚</p>
                        <div class="model-tags">
                            <span class="model-tag">æœºæ¢°</span>
                            <span class="model-tag">å‘å…‰</span>
                            <span class="model-tag">æœºæ¢°éŸ³æ•ˆ</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç›¸å…³èµ„æº -->
        <section class="page-section">
            <h2 class="section-title">ç›¸å…³èµ„æºä¸é“¾æ¥</h2>
            
            <p>ä»¥ä¸‹æ˜¯ä¸Live2Dè§’è‰²æ¨¡å‹ç›¸å…³çš„èµ„æºå’Œæ–‡æ¡£é“¾æ¥ï¼š</p>
            
            <div class="resource-links">
                <a href="https://github.com/yourusername/live2d-editor" class="resource-link" target="_blank">
                    <i class="fab fa-github"></i> æŸ¥çœ‹å®Œæ•´æºä»£ç 
                </a>
                
                <a href="../art-resources/character-arts.html" class="resource-link">
                    <i class="fas fa-palette"></i> è§’è‰²ç«‹ç»˜èµ„æº
                </a>
                
                <a href="../game-scripts/rpg-system.html" class="resource-link">
                    <i class="fas fa-code"></i> RPGæˆ˜æ–—ç³»ç»Ÿ
                </a>
                
                <a href="facial-expressions.html" class="resource-link">
                    <i class="fas fa-smile"></i> è¡¨æƒ…ç¼–è¾‘ç³»ç»Ÿ
                </a>
                
                <a href="https://www.live2d.com" class="resource-link" target="_blank">
                    <i class="fas fa-cube"></i> Live2Då®˜æ–¹ç½‘ç«™
                </a>
                
                <a href="https://docs.live2d.com/cubism-sdk-manual/getting-started/" class="resource-link" target="_blank">
                    <i class="fas fa-book"></i> Live2D SDKæ–‡æ¡£
                </a>
            </div>
        </section>

        <!-- é¡µé¢å¯¼èˆª -->
        <div class="page-navigation">
            <a href="../index.html" class="nav-button">
                <i class="fas fa-home"></i> è¿”å›ä¸»é¡µé¢
            </a>
            
            <div>
                <a href="../game-scripts/physics-simulation.html" class="nav-button">
                    <i class="fas fa-arrow-left"></i> ä¸Šä¸€ä¸ª: ç‰©ç†å¼•æ“æ¨¡æ‹Ÿ
                </a>
                <a href="../art-resources/character-arts.html" class="nav-button">
                    ä¸‹ä¸€ä¸ª: è§’è‰²ç«‹ç»˜èµ„æº <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>
        // åˆå§‹åŒ–ä»£ç é«˜äº®
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            
            // åˆå§‹åŒ–Live2Dæ¼”ç¤º
            initLive2DDemo();
        });
        
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(codeId) {
            const codeElement = document.getElementById(codeId);
            const textToCopy = codeElement.textContent;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
                const button = event.target.closest('.copy-button');
                const originalHTML = button.innerHTML;
                
                button.innerHTML = '<i class="fas fa-check"></i> å·²å¤åˆ¶';
                button.style.backgroundColor = 'rgba(76, 175, 80, 0.2)';
                button.style.color = '#4CAF50';
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.style.backgroundColor = '';
                    button.style.color = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶');
            });
        }
        
        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    e.preventDefault();
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Live2Dæ¼”ç¤ºåŠŸèƒ½
        function initLive2DDemo() {
            // æ¨¡æ‹ŸLive2Då‚æ•°æ§åˆ¶
            const eyeSlider = document.getElementById('eyeSlider');
            const mouthSlider = document.getElementById('mouthSlider');
            const headXSlider = document.getElementById('headXSlider');
            const headYSlider = document.getElementById('headYSlider');
            
            const eyeValue = document.getElementById('eyeValue');
            const mouthValue = document.getElementById('mouthValue');
            const headXValue = document.getElementById('headXValue');
            const headYValue = document.getElementById('headYValue');
            
            const expressionButtons = document.querySelectorAll('.expression-btn');
            const canvas = document.getElementById('live2dCanvas');
            
            // çœ¼ç›æ§åˆ¶
            eyeSlider.addEventListener('input', function() {
                const value = parseFloat(this.value);
                eyeValue.textContent = value.toFixed(2);
                
                // æ¨¡æ‹ŸLive2Då‚æ•°æ›´æ–°
                updateCanvasVisual();
            });
            
            // å˜´å·´æ§åˆ¶
            mouthSlider.addEventListener('input', function() {
                const value = parseFloat(this.value);
                mouthValue.textContent = value.toFixed(2);
                
                // æ¨¡æ‹ŸLive2Då‚æ•°æ›´æ–°
                updateCanvasVisual();
            });
            
            // å¤´éƒ¨Xæ§åˆ¶
            headXSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                headXValue.textContent = value;
                
                // æ¨¡æ‹ŸLive2Då‚æ•°æ›´æ–°
                updateCanvasVisual();
            });
            
            // å¤´éƒ¨Yæ§åˆ¶
            headYSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                headYValue.textContent = value;
                
                // æ¨¡æ‹ŸLive2Då‚æ•°æ›´æ–°
                updateCanvasVisual();
            });
            
            // è¡¨æƒ…æŒ‰é’®
            expressionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                    expressionButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ activeç±»
                    this.classList.add('active');
                    
                    // è·å–è¡¨æƒ…ç±»å‹
                    const expression = this.getAttribute('data-expression');
                    
                    // æ¨¡æ‹Ÿè¡¨æƒ…åˆ‡æ¢
                    updateCanvasVisual(expression);
                });
            });
            
            // æ¨¡æ‹ŸLive2Dç”»å¸ƒæ›´æ–°
            function updateCanvasVisual(expression = 'neutral') {
                // è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œå®é™…åº”è¯¥æ›´æ–°çœŸæ­£çš„Live2Dæ¨¡å‹
                const eyeValue = parseFloat(eyeSlider.value);
                const mouthValue = parseFloat(mouthSlider.value);
                const headXValue = parseInt(headXSlider.value);
                const headYValue = parseInt(headYSlider.value);
                
                // æ›´æ–°ç”»å¸ƒæŒ‡ç¤ºå™¨
                const canvas = document.getElementById('live2dCanvas');
                
                // åˆ›å»ºå¯è§†åŒ–æŒ‡ç¤ºå™¨
                let indicatorHtml = `
                    <div style="color: white; text-align: center; padding: 2rem;">
                        <i class="fas fa-user" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                        <h3>Live2Dæ¨¡å‹æ¼”ç¤º</h3>
                        <p>å½“å‰è¡¨æƒ…: <strong>${expression}</strong></p>
                        <p>çœ¼ç›å¼€åˆ: <strong>${eyeValue.toFixed(2)}</strong></p>
                        <p>å˜´å·´å¼€åˆ: <strong>${mouthValue.toFixed(2)}</strong></p>
                        <p>å¤´éƒ¨è§’åº¦: X=${headXValue}Â°, Y=${headYValue}Â°</p>
                    </div>
                `;
                
                // æ ¹æ®è¡¨æƒ…æ·»åŠ ä¸åŒçš„å›¾æ ‡
                let icon = 'fa-user';
                if (expression === 'happy') icon = 'fa-smile';
                else if (expression === 'sad') icon = 'fa-frown';
                else if (expression === 'angry') icon = 'fa-angry';
                else if (expression === 'surprised') icon = 'fa-surprise';
                
                indicatorHtml = `
                    <div style="color: white; text-align: center; padding: 2rem;">
                        <i class="fas ${icon}" style="font-size: 6rem; margin-bottom: 1rem; color: #ff6b6b;"></i>
                        <h3>Live2Dæ¨¡å‹æ¼”ç¤º</h3>
                        <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 1rem; margin: 1rem 0;">
                            <p>è¡¨æƒ…: <strong style="color: #4cc9f0">${expression}</strong></p>
                            <p>çœ¼ç›: <strong>${eyeValue.toFixed(2)}</strong></p>
                            <p>å˜´å·´: <strong>${mouthValue.toFixed(2)}</strong></p>
                            <p>å¤´éƒ¨è§’åº¦: X=${headXValue}Â°, Y=${headYValue}Â°</p>
                        </div>
                        <p style="font-size: 0.9rem; opacity: 0.8;">è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„Live2Dæ§åˆ¶å™¨</p>
                    </div>
                `;
                
                canvas.innerHTML = indicatorHtml;
            }
            
            // åˆå§‹æ›´æ–°
            updateCanvasVisual();
            
            // æ·»åŠ é¼ æ ‡è·Ÿè¸ªæ•ˆæœ
            canvas.addEventListener('mousemove', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // æ¨¡æ‹Ÿè§†çº¿è·Ÿè¸ª
                const headX = (x / rect.width * 60 - 30).toFixed(0);
                const headY = (y / rect.height * 40 - 20).toFixed(0);
                
                // æ›´æ–°å¤´éƒ¨è§’åº¦æŒ‡ç¤ºå™¨
                const indicator = canvas.querySelector('div');
                if (indicator && indicator.querySelector('p:nth-child(3)')) {
                    const angleText = indicator.querySelector('p:nth-child(3)');
                    angleText.innerHTML = `å¤´éƒ¨è§’åº¦: X=${headX}Â°, Y=${headY}Â° <small>(é¼ æ ‡è·Ÿè¸ª)</small>`;
                }
            });
            
            // é¼ æ ‡ç¦»å¼€æ—¶é‡ç½®
            canvas.addEventListener('mouseleave', function() {
                setTimeout(() => {
                    const indicator = canvas.querySelector('div');
                    if (indicator && indicator.querySelector('p:nth-child(3)')) {
                        const angleText = indicator.querySelector('p:nth-child(3)');
                        const headXValue = document.getElementById('headXValue').textContent;
                        const headYValue = document.getElementById('headYValue').textContent;
                        angleText.innerHTML = `å¤´éƒ¨è§’åº¦: X=${headXValue}Â°, Y=${headYValue}Â°`;
                    }
                }, 500);
            });
        }
    </script>
</body>
</html>
